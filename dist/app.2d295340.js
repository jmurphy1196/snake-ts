parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"qo4e":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var s=function(){function s(s,i){void 0===i&&(i="white"),this.xSpeed=1*s,this.ySpeed=1*s,this.color=i,this.nodes=[new e(0,0,32*s)],this.direction="right",this.size=32*s,this.scale=s}return s.prototype.print=function(){console.log(this.nodes)},s.prototype.setNewPosition=function(s){var e=this.nodes[this.nodes.length-1],i=e.x,t=e.y;switch(this.direction){case"right":e.x+=e.size,e.x>s.columns&&(e.x=0);for(var n=this.nodes.length-2;n>=0;n--){var o=this.nodes[n].x,h=this.nodes[n].y;this.nodes[n].x=i,this.nodes[n].y=t,i=o,t=h}break;case"down":e.y+=e.size,e.y>s.rows&&(e.y=0);for(n=this.nodes.length-2;n>=0;n--){o=this.nodes[n].y,h=this.nodes[n].x;this.nodes[n].y=t,this.nodes[n].x=i,t=o,i=h}break;case"left":e.x-=e.size,e.x<0&&(e.x=s.columns-e.size);for(n=this.nodes.length-2;n>=0;n--){o=this.nodes[n].x,h=this.nodes[n].y;this.nodes[n].x=i,this.nodes[n].y=t,i=o,t=h}break;case"up":e.y-=e.size,e.y+e.size<0&&(e.y=s.rows-e.size);for(n=this.nodes.length-2;n>=0;n--){o=this.nodes[n].y,h=this.nodes[n].x;this.nodes[n].y=t,this.nodes[n].x=i,t=o,i=h}}},s.prototype.delete=function(){this.nodes=[],this.nodes.push(new e(0,0,this.size*this.scale))},s.prototype.checkCollisionWithSelf=function(){var s={},e=!1;return this.nodes.forEach(function(i,t){s[i.x+","+i.y]?e=!0:s[i.x+","+i.y]=t}),e},s.prototype.checkCollisionFruit=function(s){var e,i=!1,t=this.nodes[this.nodes.length-1];if(s.forEach(function(s,n){t.x>=s.x-t.size/2&&t.x<=s.x+t.size/2&&t.y>=s.y-t.size/2&&t.y<=s.y+t.size/2&&(i=!0,e=n)}),i)return e},s.prototype.insert=function(){var s,i=this.nodes[this.nodes.length-1];switch(this.direction){case"right":s=new e(i.x+i.size,i.y,i.size);break;case"down":s=new e(i.x,i.y+i.size,i.size);break;case"left":s=new e(i.x-i.size,i.y,i.size);break;case"up":s=new e(i.x,i.y-i.size,i.size)}this.nodes.push(s)},s}();exports.default=s;var e=function(){return function(s,e,i){this.x=s,this.y=e,this.size=i}}();
},{}],"wG71":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,i){this.scale=t,this.ctx=i.getContext("2d"),this.rows=i.height*t,this.columns=i.width*t,this.canvas=i,i.width*=t,i.height*=t}return t.prototype.drawSnake=function(t){var i=this;t.nodes.forEach(function(o){i.ctx.beginPath(),i.ctx.rect(o.x,o.y,o.size,o.size),i.ctx.fillStyle=t.color,i.ctx.fill()})},t.prototype.drawFruit=function(t){var i=this;t.forEach(function(t){i.ctx.beginPath(),i.ctx.rect(t.x,t.y,t.size,t.size),i.ctx.fillStyle=t.color,i.ctx.fill()})},t.prototype.drawBoard=function(t,i){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawSnake(t),this.drawFruit(i)},t.prototype.randomPoints=function(){return[Math.floor(Math.random()*this.columns+32),Math.floor(Math.random()*this.rows-32)]},t}();exports.default=t;
},{}],"K6en":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Fruit=void 0;var t=function(){return function(t,e,i,o){void 0===i&&(i=32),void 0===o&&(o="orange"),this.x=t,this.y=e,this.color=o,this.size=i}}();exports.Fruit=t;
},{}],"EVxB":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("./Snake")),r=e(require("./Draw")),s=require("./Fruit"),n=10,i=document.querySelector(".root"),o=function(){function e(e,s){var n=document.createElement("canvas");n.style.backgroundColor="grey",n.width=640,n.height=480,this.canvas=n,this.root=e,this.root.appendChild(n),this.scale=s,this.score=0,this.screen=new r.default(s,n),this.snake=new t.default(this.screen.scale,"#cfdac8"),this.fruits=[]}return e.prototype.drawScore=function(){var e=document.getElementById("score");e&&(e.innerHTML="SCORE: "+this.score)},e.prototype.start=function(){var e=this;this.drawScore(),window.addEventListener("keypress",function(t){switch(t.key){case"w":e.snake.direction="up";break;case"d":e.snake.direction="right";break;case"a":e.snake.direction="left";break;case"s":e.snake.direction="down"}}),this.screen.drawSnake(this.snake),setInterval(function(){if(e.fruits.length<5){var t=e.screen.randomPoints(),r=t[0],n=t[1],i=new s.Fruit(r,n,40*e.scale,"orange");e.fruits.push(i)}},5e3),setInterval(function(){e.snake.setNewPosition(e.screen);var t=e.snake.checkCollisionFruit(e.fruits);(t||0===t)&&(e.snake.insert(),e.fruits=e.fruits.filter(function(e,r){return r!==t}),e.score+=1,e.drawScore()),e.snake.checkCollisionWithSelf()&&(console.log("game over!"),e.reset()),e.screen.drawBoard(e.snake,e.fruits)},125)},e.prototype.reset=function(){this.score=0,this.snake.delete(),this.fruits=[],this.drawScore()},e}(),a=new o(i,1.3);a.start();
},{"./Snake":"qo4e","./Draw":"wG71","./Fruit":"K6en"}]},{},["EVxB"], null)
//# sourceMappingURL=./app.2d295340.js.map